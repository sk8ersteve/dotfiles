#!/bin/sh

# Gives a menu to change the default sound sink via Pulse Audio

# Uncomment to use dialog instead
usedialog=true

listsinks() {
    if [[ "$usedialog" == "true" ]]
    then
        pactl list short sinks | awk '{printf "%s %s\n",$1,$2}'
    else
        pactl list short sinks | awk '{print $2}'
    fi
}

choosesink() {
    if [[ "$usedialog" == "true" ]]
    then
        dialog  --stdout --title "Default sink" \
            --menu "Select default sink for Pulse Audio" 16 70 8 $(listsinks)
    else
        listsinks | dmenu -i -p "Select default sink"
    fi
}

pactl set-default-sink $(choosesink)

